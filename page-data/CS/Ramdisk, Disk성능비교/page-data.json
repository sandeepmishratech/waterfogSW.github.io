{"componentChunkName":"component---src-templates-blog-post-js","path":"/CS/Ramdisk, Disk성능비교/","result":{"data":{"site":{"siteMetadata":{"title":"For The Record","author":"San Kim","siteUrl":"https://waterfogsw.github.io","comment":{"disqusShortName":"","utterances":"waterfogSW/waterfogSW.github.io"}}},"markdownRemark":{"id":"147f1b41-cabe-5083-bbb1-8fcd4d7279c8","excerpt":"RAM disk vs Disk Performance evaluation RAM vs Disk DRAM과 DISK모두 저장장치의 역할을 하지만 각각이 가지고 있는 특징이 다르기 때문에 서로 다른 용도로 사용이 됩니다. DRAM의 경우 속도가 뛰어나지만 가격이 높고, 휘발성이 있어 데이터가 영구적으로 저장되지 못한다는 특징이 있습니다. 또 바이트 단위로 데이터에 접근합니다. 때문에 CPU…","html":"<h1 id=\"ram-disk-vs-disk-performance-evaluation\" style=\"position:relative;\"><a href=\"#ram-disk-vs-disk-performance-evaluation\" aria-label=\"ram disk vs disk performance evaluation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RAM disk vs Disk Performance evaluation</h1>\n<h2 id=\"ram-vs-disk\" style=\"position:relative;\"><a href=\"#ram-vs-disk\" aria-label=\"ram vs disk permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RAM vs Disk</h2>\n<p>DRAM과 DISK모두 저장장치의 역할을 하지만 각각이 가지고 있는 특징이 다르기 때문에 서로 다른 용도로 사용이 됩니다.</p>\n<p>DRAM의 경우 속도가 뛰어나지만 가격이 높고, 휘발성이 있어 데이터가 영구적으로 저장되지 못한다는 특징이 있습니다. 또 바이트 단위로 데이터에 접근합니다. 때문에 CPU가까이(데이터의 이동이 잦은곳)에서 프로세서가 필요로 하는 데이터를 저장한 후 공급하는 주기억장치의 역할을 합니다.</p>\n<p>반면 DISK의 경우 DRAM에 비해 현저하게 느린 데이터 전송속도를 가지지만, 휘발성이 없고 섹터단위로 데이터에 접근합니다. 때문에 데이터를 저장하는 보조기억장치 역할을 합니다.</p>\n<h2 id=\"ram-disk\" style=\"position:relative;\"><a href=\"#ram-disk\" aria-label=\"ram disk permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RAM Disk</h2>\n<p>RAM을 주 기억 장치가 아니라 보조 기억 장치로 사용하는 개념입니다. 메모리를 기반으로 한 파일시스템이기 때문에 SSD, HDD에 비해 속도면에서 아주 우수하며 caching또는 작업 디렉토리 용도로 사용될수 있습니다. 제 개인적인 경험으로는 DRAM의 휘발성을 생각하고 RAM disk를 윈도우 인터넷 익스플로러의 임시파일 경로로 활용했던 경험이 있습니다.</p>\n<h2 id=\"create-ram-disk\" style=\"position:relative;\"><a href=\"#create-ram-disk\" aria-label=\"create ram disk permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create RAM disk</h2>\n<h3 id=\"verify-memory-size\" style=\"position:relative;\"><a href=\"#verify-memory-size\" aria-label=\"verify memory size permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Verify Memory Size</h3>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">$ free <span class=\"token operator\">-</span>h\n              total        used        free      shared  buff<span class=\"token operator\">/</span>cache   available\nMem<span class=\"token operator\">:</span>          <span class=\"token number\">6.1</span>Gi       <span class=\"token number\">384</span>Mi       <span class=\"token number\">5.6</span>Gi       <span class=\"token number\">0.0</span>Ki       <span class=\"token number\">189</span>Mi       <span class=\"token number\">5.5</span>Gi\nSwap<span class=\"token operator\">:</span>         <span class=\"token number\">2.0</span>Gi          <span class=\"token number\">0</span>B       <span class=\"token number\">2.0</span>Gi</code></pre></div>\n<p>제경우 5.6Gi정도의 여유 메모리가 있어 이를 고려하여 램디스크로 사용할 크기를 결정 하였습니다.</p>\n<h3 id=\"ramdisk-설정\" style=\"position:relative;\"><a href=\"#ramdisk-%EC%84%A4%EC%A0%95\" aria-label=\"ramdisk 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ramdisk 설정</h3>\n<p>먼저 램디스크를 만들 디렉토리를 생성합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">$ mkdir <span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>ramdisk</code></pre></div>\n<p>아래 명령어를 통해 램 디스크를 마운트 합니다.(저는 1G만큼 할당하였습니다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">$ sudo mount <span class=\"token operator\">-</span>t tmpfs <span class=\"token operator\">-</span>o size<span class=\"token operator\">=</span><span class=\"token number\">1</span>G tmpfs <span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>ramdisk</code></pre></div>\n<p>램디스크가 성공적으로 마운트 된것을 확인할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">$ df <span class=\"token operator\">-</span>h\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nD<span class=\"token operator\">:</span>\\             <span class=\"token number\">466</span>G  <span class=\"token number\">111</span>M  <span class=\"token number\">466</span>G   <span class=\"token number\">1</span><span class=\"token operator\">%</span> <span class=\"token operator\">/</span>mnt<span class=\"token operator\">/</span>d\ntmpfs           <span class=\"token number\">1.0</span>G     <span class=\"token number\">0</span>  <span class=\"token number\">1.0</span>G   <span class=\"token number\">0</span><span class=\"token operator\">%</span> <span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>ramdisk</code></pre></div>\n<p>램디스크를 사용하고 싶지 않다면 언마운트로 해제합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">$ umount <span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>ramdisk</code></pre></div>\n<h2 id=\"ram-disk-disk-performance-evaluation\" style=\"position:relative;\"><a href=\"#ram-disk-disk-performance-evaluation\" aria-label=\"ram disk disk performance evaluation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RAM disk, Disk Performance evaluation</h2>\n<p>간단하게 dd유틸리티를 사용하여 속도를 테스트 합니다.</p>\n<p>on RAM disk</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">$ dd <span class=\"token keyword\">if</span><span class=\"token operator\">=</span><span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>zero of<span class=\"token operator\">=</span><span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>ramdisk<span class=\"token operator\">/</span>perf bs<span class=\"token operator\">=</span><span class=\"token number\">256</span>M count<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> rm <span class=\"token operator\">-</span>f <span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>ramdisk<span class=\"token operator\">/</span>perf\n\n<span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">0</span> records in\n<span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">0</span> records out\n<span class=\"token number\">268435456</span> <span class=\"token function\">bytes</span> <span class=\"token punctuation\">(</span><span class=\"token number\">268</span> MB<span class=\"token punctuation\">,</span> <span class=\"token number\">256</span> MiB<span class=\"token punctuation\">)</span> copied<span class=\"token punctuation\">,</span> <span class=\"token number\">0.100249</span> s<span class=\"token punctuation\">,</span> <span class=\"token number\">2.7</span> GB<span class=\"token operator\">/</span>s</code></pre></div>\n<p>on disk</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">$ dd <span class=\"token keyword\">if</span><span class=\"token operator\">=</span><span class=\"token operator\">/</span>dev<span class=\"token operator\">/</span>zero of<span class=\"token operator\">=</span><span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>perf bs<span class=\"token operator\">=</span><span class=\"token number\">256</span>M count<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> rm <span class=\"token operator\">-</span>f <span class=\"token operator\">/</span>workspace<span class=\"token operator\">/</span>perf\n\n<span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">0</span> records in\n<span class=\"token number\">1</span><span class=\"token operator\">+</span><span class=\"token number\">0</span> records out\n<span class=\"token number\">268435456</span> <span class=\"token function\">bytes</span> <span class=\"token punctuation\">(</span><span class=\"token number\">268</span> MB<span class=\"token punctuation\">,</span> <span class=\"token number\">256</span> MiB<span class=\"token punctuation\">)</span> copied<span class=\"token punctuation\">,</span> <span class=\"token number\">0.159167</span> s<span class=\"token punctuation\">,</span> <span class=\"token number\">1.7</span> GB<span class=\"token operator\">/</span>s</code></pre></div>","frontmatter":{"title":"[OS] RAM disk vs Disk Performance evaluation","date":"March 08, 2021"}}},"pageContext":{"slug":"/CS/Ramdisk, Disk성능비교/","previous":{"fields":{"slug":"/BackEnd/Mysql-in-WSL/"},"frontmatter":{"title":"[MySql] WSL에서 mysql사용환경 만들기"}},"next":{"fields":{"slug":"/CS/Scheduler/"},"frontmatter":{"title":"[OS] Scheduler"}}}}}